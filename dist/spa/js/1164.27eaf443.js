"use strict";(globalThis["webpackChunkdoctolib"]=globalThis["webpackChunkdoctolib"]||[]).push([[1164],{51164:(e,o,r)=>{r.r(o),r.d(o,{default:()=>I});r(69665);var l=r(59835);const a=(0,l.Uk)(" Edit Risk Rating "),t={class:"row q-col-gutter-sm"},n={class:"col-12 col-md-4 col-lg-4"},s={class:"col-12 col-md-4 col-lg-4"},i={class:"col-12 col-md-4 col-lg-4"},u={class:"row q-col-gutter-md"},d={class:"col-12 col-md-6 col-lg-6"},c={class:"column"},m=(0,l._)("h6",{class:"q-my-sm"},"Risk Indexes before control",-1),_={class:"col-12 col-md-6 col-lg-6"},v={class:"column"},y=(0,l._)("h6",{class:"q-my-sm"},"Risk Indexes after control",-1),f={class:"q-pb-md"};function p(e,o,r,p,h,b){const g=(0,l.up)("q-toolbar"),V=(0,l.up)("q-btn"),k=(0,l.up)("QSearch"),S=(0,l.up)("q-select"),q=(0,l.up)("q-input"),D=(0,l.up)("QEditForm");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,[(0,l.Wm)(g,{class:"text-subtitle1 text-bold q-py-none text-primary flex justify-between"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[a])),_:1}),(0,l.Wm)(V,{flat:"",round:"",dense:"",icon:"close",onClick:o[0]||(o[0]=e=>this.$router.push({name:"riskRating"}))})])),_:1})]),(0,l.Wm)(D,{title:"Add Risk Rating",dialog:!1,useStore:p.useStore,getItems:p.getItems},{default:(0,l.w5)((()=>[(0,l._)("div",t,[(0,l._)("div",n,[(0,l.Wm)(k,{label:"Select Activity",modelValue:p.formData.activity_id,"onUpdate:modelValue":[o[1]||(o[1]=e=>p.formData.activity_id=e),p.onActivitySelect],useStore:p.useActivity,optionValue:"id",optionLabel:"name","error-message":e.$getValidationErrors("activity_id"),error:e.$hasValidationErrors("activity_id")},null,8,["modelValue","useStore","onUpdate:modelValue","error-message","error"])]),(0,l._)("div",s,[(0,l.Wm)(S,{dense:"",modelValue:p.formData.hazard_id,"onUpdate:modelValue":o[2]||(o[2]=e=>p.formData.hazard_id=e),outlined:"",options:p.hazardsOptions,label:"Select Hazard",optionValue:"id",optionLabel:"name","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,l._)("div",i,[(0,l.Wm)(S,{dense:"",modelValue:p.formData.risk_id,"onUpdate:modelValue":o[3]||(o[3]=e=>p.formData.risk_id=e),outlined:"",options:p.risksOptions,label:"Select Risk",optionValue:"id",optionLabel:"name","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),(0,l._)("div",u,[(0,l._)("div",d,[(0,l._)("div",c,[m,(0,l.Wm)(S,{outlined:"",dense:"",clearable:"",modelValue:p.formData.likelyhood_before_control_value,"onUpdate:modelValue":o[4]||(o[4]=e=>p.formData.likelyhood_before_control_value=e),options:p.ratingOptions,label:"Select Likelyhood",rules:[e=>!!e||"Please enter Severity",e=>e>0||"Severity should be more than 0",e=>e<11||"Severity cannot be more than 10"],"error-message":e.$getValidationErrors("likelyhood_before_control_value"),error:e.$hasValidationErrors("likelyhood_before_control_value")},null,8,["modelValue","options","rules","error-message","error"]),(0,l.Wm)(S,{outlined:"",dense:"",clearable:"",modelValue:p.formData.severity_before_control_value,"onUpdate:modelValue":o[5]||(o[5]=e=>p.formData.severity_before_control_value=e),options:p.ratingOptions,label:"Select Severity",rules:[e=>!!e||"Please enter Severity",e=>e>0||"Severity should be more than 0",e=>e<11||"Severity cannot be more than 10"],"error-message":e.$getValidationErrors("severity_before_control_value"),error:e.$hasValidationErrors("severity_before_control_value")},null,8,["modelValue","options","rules","error-message","error"]),(0,l.Wm)(S,{outlined:"",dense:"",clearable:"",modelValue:p.formData.frequency_before_control_value,"onUpdate:modelValue":o[6]||(o[6]=e=>p.formData.frequency_before_control_value=e),options:p.ratingOptions,label:"Select Frequency",rules:[e=>!!e||"Please enter Frequency",e=>e>0||"Frequency should be more than 0",e=>e<11||"Frequency cannot be more than 10"],"error-message":e.$getValidationErrors("frequency_before_control_value"),error:e.$hasValidationErrors("frequency_before_control_value")},null,8,["modelValue","options","rules","error-message","error"])])]),(0,l._)("div",_,[(0,l._)("div",v,[y,(0,l.Wm)(S,{outlined:"",dense:"",clearable:"",modelValue:p.formData.likelyhood_after_control_value,"onUpdate:modelValue":o[7]||(o[7]=e=>p.formData.likelyhood_after_control_value=e),options:p.ratingOptions,label:"Select Likelyhood",rules:[e=>!!e||"Please enter Likelyhood",e=>e>0||"Likelyhood should be more than 0",e=>e<11||"Likelyhood cannot be more than 10"],"error-message":e.$getValidationErrors("likelyhood_after_control_value"),error:e.$hasValidationErrors("likelyhood_after_control_value")},null,8,["modelValue","options","rules","error-message","error"]),(0,l.Wm)(S,{outlined:"",dense:"",clearable:"",modelValue:p.formData.severity_after_control_value,"onUpdate:modelValue":o[8]||(o[8]=e=>p.formData.severity_after_control_value=e),options:p.ratingOptions,label:"Select Severity",rules:[e=>!!e||"Please enter Severity",e=>e>0||"Severity should be more than 0",e=>e<11||"Severity cannot be more than 10"],"error-message":e.$getValidationErrors("severity_after_control_value"),error:e.$hasValidationErrors("severity_after_control_value")},null,8,["modelValue","options","rules","error-message","error"]),(0,l.Wm)(S,{outlined:"",dense:"",clearable:"",modelValue:p.formData.frequency_after_control_value,"onUpdate:modelValue":o[9]||(o[9]=e=>p.formData.frequency_after_control_value=e),options:p.ratingOptions,label:"Select Frequency",rules:[e=>!!e||"Please enter Frequency",e=>e>0||"Frequency should be more than 0",e=>e<11||"Frequency cannot be more than 10"],"error-message":e.$getValidationErrors("frequency_after_control_value"),error:e.$hasValidationErrors("frequency_after_control_value")},null,8,["modelValue","options","rules","error-message","error"])])])]),(0,l._)("div",f,[(0,l.Wm)(q,{outlined:"",type:"textarea",modelValue:p.formData.control_measures,"onUpdate:modelValue":o[10]||(o[10]=e=>p.formData.control_measures=e),label:"Control Measures",rules:[e=>e&&e.length||"Please write control measure"],"error-message":e.$getValidationErrors("control_measures"),error:e.$hasValidationErrors("control_measures")},null,8,["modelValue","rules","error-message","error"])])])),_:1},8,["useStore","getItems"])],64)}var h=r(60499),b=r(3746),g=r(10815),V=r(70865),k=r(51269),S=r(78725);const q={name:"EditRating",setup(){const e=(0,g.k)(),{formData:o,filter:r,getItems:a}=(0,b.Jk)(e),t=(0,V.j)(),n=(0,k.A)(),s=(0,S.H)(),i=(0,h.iH)([]),u=(0,h.iH)([]),{getItems:d}=n,{getItems:c}=s,m=()=>{console.log("formData.value.activity_id",o.value.activity_id),null!==o.value.activity_id&&d({all:!0,activity_id:o.value.activity_id}).then((e=>{i.value=e.data}))},_=()=>{null!==o.value.hazard_id&&c({all:!0,filter:{hazard_id:o.value.hazard_id}}).then((e=>{u.value=e.data}))};return(0,l.YP)((()=>o.value.hazard_id),((e,r)=>{_(),o.value.risk_id=null})),(0,l.YP)((()=>o.value.activity_id),((e,r)=>{o.value.hazard_id=null})),{formData:o,useStore:e,useActivity:t,useHazard:n,useRisk:s,ratingOptions:[1,2,3,4,5,6,7,8,9,10],onActivitySelect:m,hazardsOptions:i,risksOptions:u,getItems:a}}};var D=r(11639),E=r(51663),$=r(68879),W=r(32259),U=r(66611),z=r(69984),O=r.n(z);const w=(0,D.Z)(q,[["render",p]]),I=w;O()(q,"components",{QToolbar:E.Z,QBtn:$.Z,QSelect:W.Z,QInput:U.Z})}}]);