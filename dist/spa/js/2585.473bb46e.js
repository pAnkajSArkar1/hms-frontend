"use strict";(globalThis["webpackChunkdoctolib"]=globalThis["webpackChunkdoctolib"]||[]).push([[2585],{12585:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_});var o=s(59835),a=s(61957),r=s(86970);const l=e=>((0,o.dD)("data-v-cd4eeee2"),e=e(),(0,o.Cn)(),e),n=l((()=>(0,o._)("div",{class:"text-h5 text-center text-weight-bold text-grey-9"}," Verify OTP ",-1))),i={class:"col-12 col-sm-12 col-md-12 col-lg-12 q-pt-sm"},d={key:0,class:"text-center q-pt-md text-amber-9",style:{"font-size":"14px"}},c=l((()=>(0,o._)("p",{class:"q-mb-xs text-center text-amber-9"}," Please do not refresh this page ! ",-1)));function p(e,t,s,l,p,u){const m=(0,o.up)("q-card-section"),g=(0,o.up)("q-btn"),f=(0,o.up)("q-input"),v=(0,o.up)("q-form"),b=(0,o.up)("q-card"),w=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(w,{class:"flex flex-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{flat:"",class:"card-min-width"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{onSubmit:(0,a.iM)(e.submitForm,["prevent"])},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"row justify-center q-pb-xs"},{default:(0,o.w5)((()=>[n])),_:1}),(0,o.Wm)(m,{class:"q-py-xs"},{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o.Wm)(f,{dense:"",outlined:"",onKeypress:e.NumbersOnly,label:"6 Digit Code",maxlength:"6",modelValue:e.passwordReset.otp,"onUpdate:modelValue":t[0]||(t[0]=t=>e.passwordReset.otp=t),rules:e.noRules,"error-message":e.$getValidationErrors("otp"),error:e.$hasValidationErrors("otp")},{append:(0,o.w5)((()=>[e.setTime>0?((0,o.wg)(),(0,o.iD)("p",d,(0,r.zw)(e.setTime)+"s ",1)):((0,o.wg)(),(0,o.j4)(g,{key:1,label:"Resend code","text-color":"amber-9",flat:"",uneleveted:"","no-caps":"",onClick:e.resendOTP,loading:e.resetBtn},null,8,["onClick","loading"]))])),_:1},8,["onKeypress","modelValue","rules","error-message","error"])])])),_:1}),(0,o.Wm)(m,{class:"col-12 col-sm-12 col-md-12 col-lg-12 q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{color:"primary",label:"Verify OTP",class:"full-width",unelevated:"",loading:e.loader,outlined:"",type:"submit"},null,8,["loading"])])),_:1})])),_:1},8,["onSubmit"]),c])),_:1})])),_:1})}s(69665);var u=s(60499),m=s(28339),g=s(19082),f=s(3746);const v=(0,o.aZ)({setup(){const e=(0,m.tv)(),t=(0,g.t)(),s=(0,u.iH)(!1),a=(0,u.iH)(30),r=(0,u.iH)(!1),l=e=>{e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},{passwordReset:n}=(0,f.Jk)(t),i=(0,o.FN)(),d=i.appContext.config.globalProperties.$clearValidationErrors,c=i.appContext.config.globalProperties.$Qnotify,p=i.appContext.config.globalProperties.$setValidationErrors;function v(){s.value=!0,t.verifyOTP().then((t=>{s.value=!1,d(),c({message:"OTP Verified Successfully",type:"positive"}),e.push("/forgot-password/reset-password")})).catch((e=>{s.value=!1;let t=e.response.data.message,o={};e.response.data.errors&&(o=e.response.data.errors),p(o),c({message:t,type:"negative"})}))}const b=()=>{r.value=!0,t.sendOTP().then((e=>{s.value=!1,r.value=!1,a.value=30,d(),c({message:"OTP Sent Please Check Your Email",type:"positive"})})).catch((e=>{console.log("chekcing error",{error:e}),s.value=!1,r.value=!1;let t=e?.response?.data?.message,o={};e?.response?.data?.errors&&(o=e?.response?.data?.errors),p(o),c({message:t,type:"negative"})}))};return(0,o.YP)(a,((e,t)=>{a.value>0&&setTimeout((()=>{a.value--}),1e3)}),{immediate:!0}),{store:t,setTime:a,resetBtn:r,loader:s,submitForm:v,passwordReset:n,NumbersOnly:l,resendOTP:b,noRules:[e=>null!==e&&""!==e||"Please Enter 6 Digit Code",e=>6===e.length||"Code must be of 6 digits"]}}});var b=s(11639),w=s(69885),h=s(44458),y=s(8326),x=s(63190),P=s(66611),C=s(68879),T=s(69984),k=s.n(T);const q=(0,b.Z)(v,[["render",p],["__scopeId","data-v-cd4eeee2"]]),_=q;k()(v,"components",{QPage:w.Z,QCard:h.Z,QForm:y.Z,QCardSection:x.Z,QInput:P.Z,QBtn:C.Z})}}]);