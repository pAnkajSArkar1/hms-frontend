"use strict";(globalThis["webpackChunkdoctolib"]=globalThis["webpackChunkdoctolib"]||[]).push([[263],{10263:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var o={};a.r(o),a.d(o,{showCreateDoctors:()=>u,showEditdoctors:()=>p});var l={};a.r(l),a.d(l,{createItem:()=>w,deleteItem:()=>D,editItem:()=>b,getItems:()=>f});var s=a(59835),r=a(86970);const n={class:"q-pa-md"};function i(e,t,a,o,l,i){const d=(0,s.up)("QDataTable"),c=(0,s.up)("create-doctors"),m=(0,s.up)("q-card"),u=(0,s.up)("q-dialog"),p=(0,s.up)("edit-doctors"),h=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(h,null,{default:(0,s.w5)((()=>[(0,s._)("div",n,[(0,s.Wm)(d,{useStore:o.useStore,title:"All Doctors"},null,8,["useStore"]),(0,s.Wm)(u,{modelValue:o.showCreateDoctors,"onUpdate:modelValue":t[0]||(t[0]=e=>o.showCreateDoctors=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"card-width"},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,r.C_)((e.$q.platform.is.desktop,""))},[(0,s.Wm)(c,{useStore:o.useStore,modal:!0},null,8,["useStore"])],2)])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(u,{modelValue:o.showEditdoctors,"onUpdate:modelValue":t[1]||(t[1]=e=>o.showEditdoctors=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"card-width"},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,r.C_)((e.$q.platform.is.desktop,""))},[(0,s.Wm)(p,{useStore:o.useStore,modal:!0},null,8,["useStore"])],2)])),_:1})])),_:1},8,["modelValue"])])])),_:1})}var d=a(3746),c=a(60499);a(4026);function m(){return{columns:[{name:"name",align:"left",label:"Name",field:"name",sortable:!0},{name:"speciality",align:"left",label:"Speciality",field:"speciality",sortable:!0},{name:"department",align:"left",label:"Department",field:e=>e?.branch?.name,sortable:!0},{name:"type",align:"left",label:"Type",field:"type",sortable:!0},{name:"experience",align:"left",label:"Experience",field:"experience",sortable:!0},{name:"actions",align:"right",label:"Actions"}],filter:{search:"",branch_id:null},items:(0,c.qj)([]),item:(0,c.qj)({}),newData:(0,c.qj)({name:"",speciality:"",branch:{name:""},branch_id:null,address:"",email:"",mobile_no:null,blood:"",type:"",gender:"",age:null,experience:"",salary:null}),formData:(0,c.qj)({name:"",speciality:"",branch:{name:""},branch_id:null,address:"",email:"",mobile_no:null,blood:"",type:"",gender:"",age:"",experience:"",salary:""}),created_at:"",dialogs:(0,c.qj)({createItem:!1,editItem:!1}),lastUpdated:""}}function u(e){return e.dialogs.createItem}function p(e){return e.dialogs.editItem}var h=a(91569);const g="doctor";function f(e){if(console.log("getItems",!0),1==e.pagination.descending)var t="DESC";else t="ASC";var a={sort:e.pagination.sortBy,direction:t,page:e.pagination.page,rowsPerPage:e.pagination.rowsPerPage,search:e.search?e.search:this.filter.search};return new Promise(((e,t)=>{h.axios.get(g,{params:a}).then((t=>{e(t)})).catch((e=>{t(e)}))}))}function w(){return new Promise(((e,t)=>{h.axios.post(g,this.newData).then((t=>{this.lastUpdated=new Date,this.dialogs.createItem=!1,e(t)})).catch((e=>{t(e)}))}))}function b(){return new Promise(((e,t)=>{h.axios.put(g+"/"+this.formData.id,this.formData).then((t=>{this.lastUpdated=new Date,this.dialogs.editItem=!1,e(t)})).catch((e=>{t(e)}))}))}function D(e){return new Promise(((t,a)=>{h.axios["delete"](g+"/"+e.id).then((e=>{this.lastUpdated=new Date,t(e)})).catch((e=>{a(e)}))}))}const _=(0,d.Q_)("doctor",{state:m,getters:{...o},actions:{...l}}),C=(0,s.RC)((()=>Promise.all([a.e(3064),a.e(1891)]).then(a.bind(a,91891)))),y=(0,s.RC)((()=>Promise.all([a.e(3064),a.e(6024)]).then(a.bind(a,76024)))),S={name:"ManageDoctor",components:{CreateDoctors:C,EditDoctors:y},setup(){const e=_(),t=(0,s.Fl)((()=>e.showCreateDoctors)),a=(0,s.Fl)((()=>e.showEditdoctors));return{useStore:e,showCreateDoctors:t,showEditdoctors:a}}};var q=a(11639),v=a(69885),I=a(32074),P=a(44458),x=a(69984),E=a.n(x);const W=(0,q.Z)(S,[["render",i]]),j=W;E()(S,"components",{QPage:v.Z,QDialog:I.Z,QCard:P.Z})}}]);