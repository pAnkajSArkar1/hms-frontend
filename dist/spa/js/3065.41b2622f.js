"use strict";(globalThis["webpackChunkdoctolib"]=globalThis["webpackChunkdoctolib"]||[]).push([[3065],{43065:(e,o,l)=>{l.r(o),l.d(o,{default:()=>I});l(69665);var a=l(59835);const r=(0,a.Uk)(" Add Risk Rating "),t={class:"row q-col-gutter-sm"},n={class:"col-12 col-md-4 col-lg-4"},s={class:"col-12 col-md-4 col-lg-4"},i={class:"col-12 col-md-4 col-lg-4"},u={class:"row q-col-gutter-md"},d={class:"col-12 col-md-6 col-lg-6"},c={class:"column"},_=(0,a._)("h6",{class:"q-my-sm"},"Risk Indexes before control",-1),m={class:"col-12 col-md-6 col-lg-6"},v={class:"column"},y=(0,a._)("h6",{class:"q-my-sm"},"Risk Indexes after control",-1),p={class:"q-pb-md"};function h(e,o,l,h,b,g){const V=(0,a.up)("q-toolbar"),f=(0,a.up)("q-btn"),k=(0,a.up)("QSearch"),w=(0,a.up)("q-select"),S=(0,a.up)("q-input"),q=(0,a.up)("QCreateForm");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",null,[(0,a.Wm)(V,{class:"text-subtitle1 text-bold q-py-none text-primary flex justify-between"},{default:(0,a.w5)((()=>[(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[r])),_:1}),(0,a.Wm)(f,{flat:"",round:"",dense:"",icon:"close",onClick:o[0]||(o[0]=e=>this.$router.push({name:"riskRating"}))})])),_:1})]),(0,a.Wm)(q,{title:"Add Risk Rating",dialog:!1,useStore:h.useStore,getItems:h.getItems},{default:(0,a.w5)((()=>[(0,a._)("div",t,[(0,a._)("div",n,[(0,a.Wm)(k,{label:"Select Activity",modelValue:h.newData.activity_id,"onUpdate:modelValue":[o[1]||(o[1]=e=>h.newData.activity_id=e),h.onActivitySelect],useStore:h.useActivity,optionValue:"id",optionLabel:"name","error-message":e.$getValidationErrors("activity_id"),error:e.$hasValidationErrors("activity_id")},null,8,["modelValue","useStore","onUpdate:modelValue","error-message","error"])]),(0,a._)("div",s,[(0,a.Wm)(w,{dense:"",modelValue:h.newData.hazard_id,"onUpdate:modelValue":o[2]||(o[2]=e=>h.newData.hazard_id=e),outlined:"",options:h.hazardsOptions,label:"Select Hazard",optionValue:"id",optionLabel:"name","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,a._)("div",i,[(0,a.Wm)(w,{dense:"",modelValue:h.newData.risk_id,"onUpdate:modelValue":o[3]||(o[3]=e=>h.newData.risk_id=e),outlined:"",options:h.risksOptions,label:"Select Risk",optionValue:"id",optionLabel:"name","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),(0,a._)("div",u,[(0,a._)("div",d,[(0,a._)("div",c,[_,(0,a.Wm)(w,{outlined:"",dense:"",clearable:"",modelValue:h.newData.likelyhood_before_control_value,"onUpdate:modelValue":o[4]||(o[4]=e=>h.newData.likelyhood_before_control_value=e),options:h.ratingOptions,label:"Select Likelyhood",rules:[e=>!!e||"Please enter Severity",e=>e>0||"Severity should be more than 0",e=>e<11||"Severity cannot be more than 10"],"error-message":e.$getValidationErrors("likelyhood_before_control_value"),error:e.$hasValidationErrors("likelyhood_before_control_value")},null,8,["modelValue","options","rules","error-message","error"]),(0,a.Wm)(w,{outlined:"",dense:"",clearable:"",modelValue:h.newData.severity_before_control_value,"onUpdate:modelValue":o[5]||(o[5]=e=>h.newData.severity_before_control_value=e),options:h.ratingOptions,label:"Select Severity",rules:[e=>!!e||"Please enter Severity",e=>e>0||"Severity should be more than 0",e=>e<11||"Severity cannot be more than 10"],"error-message":e.$getValidationErrors("severity_before_control_value"),error:e.$hasValidationErrors("severity_before_control_value")},null,8,["modelValue","options","rules","error-message","error"]),(0,a.Wm)(w,{outlined:"",dense:"",clearable:"",modelValue:h.newData.frequency_before_control_value,"onUpdate:modelValue":o[6]||(o[6]=e=>h.newData.frequency_before_control_value=e),options:h.ratingOptions,label:"Select Frequency",rules:[e=>!!e||"Please enter Frequency",e=>e>0||"Frequency should be more than 0",e=>e<11||"Frequency cannot be more than 10"],"error-message":e.$getValidationErrors("frequency_before_control_value"),error:e.$hasValidationErrors("frequency_before_control_value")},null,8,["modelValue","options","rules","error-message","error"])])]),(0,a._)("div",m,[(0,a._)("div",v,[y,(0,a.Wm)(w,{outlined:"",dense:"",clearable:"",modelValue:h.newData.likelyhood_after_control_value,"onUpdate:modelValue":o[7]||(o[7]=e=>h.newData.likelyhood_after_control_value=e),options:h.ratingOptions,label:"Select Likelyhood",rules:[e=>!!e||"Please enter Likelyhood",e=>e>0||"Likelyhood should be more than 0",e=>e<11||"Likelyhood cannot be more than 10"],"error-message":e.$getValidationErrors("likelyhood_after_control_value"),error:e.$hasValidationErrors("likelyhood_after_control_value")},null,8,["modelValue","options","rules","error-message","error"]),(0,a.Wm)(w,{outlined:"",dense:"",clearable:"",modelValue:h.newData.severity_after_control_value,"onUpdate:modelValue":o[8]||(o[8]=e=>h.newData.severity_after_control_value=e),options:h.ratingOptions,label:"Select Severity",rules:[e=>!!e||"Please enter Severity",e=>e>0||"Severity should be more than 0",e=>e<11||"Severity cannot be more than 10"],"error-message":e.$getValidationErrors("severity_after_control_value"),error:e.$hasValidationErrors("severity_after_control_value")},null,8,["modelValue","options","rules","error-message","error"]),(0,a.Wm)(w,{outlined:"",dense:"",clearable:"",modelValue:h.newData.frequency_after_control_value,"onUpdate:modelValue":o[9]||(o[9]=e=>h.newData.frequency_after_control_value=e),options:h.ratingOptions,label:"Select Frequency",rules:[e=>!!e||"Please enter Frequency",e=>e>0||"Frequency should be more than 0",e=>e<11||"Frequency cannot be more than 10"],"error-message":e.$getValidationErrors("frequency_after_control_value"),error:e.$hasValidationErrors("frequency_after_control_value")},null,8,["modelValue","options","rules","error-message","error"])])])]),(0,a._)("div",p,[(0,a.Wm)(S,{outlined:"",type:"textarea",modelValue:h.newData.control_measures,"onUpdate:modelValue":o[10]||(o[10]=e=>h.newData.control_measures=e),label:"Control Measures",rules:[e=>e&&e.length||"Please write control measure"],"error-message":e.$getValidationErrors("control_measures"),error:e.$hasValidationErrors("control_measures")},null,8,["modelValue","rules","error-message","error"])])])),_:1},8,["useStore","getItems"])],64)}var b=l(60499),g=l(3746),V=l(10815),f=l(70865),k=l(51269),w=l(78725);const S={name:"CreateRating",setup(){const e=(0,V.k)(),{newData:o,filter:l,getItems:r}=(0,g.Jk)(e),t=(0,f.j)(),n=(0,k.A)(),s=(0,w.H)(),i=(0,b.iH)([]),u=(0,b.iH)([]),{getItems:d}=n,{getItems:c}=s,_=()=>{console.log("newData.value.activity_id",o.value.activity_id),null!==o.value.activity_id&&d({all:!0,activity_id:o.value.activity_id}).then((e=>{i.value=e.data}))},m=()=>{null!==o.value.hazard_id&&c({all:!0,filter:{hazard_id:o.value.hazard_id}}).then((e=>{u.value=e.data}))};return(0,a.YP)((()=>o.value.hazard_id),((e,l)=>{m(),o.value.risk_id=null})),(0,a.YP)((()=>o.value.activity_id),((e,l)=>{o.value.hazard_id=null})),{newData:o,useStore:e,useActivity:t,useHazard:n,useRisk:s,ratingOptions:[1,2,3,4,5,6,7,8,9,10],onActivitySelect:_,hazardsOptions:i,risksOptions:u,getItems:r}}};var q=l(11639),D=l(51663),$=l(68879),E=l(32259),W=l(66611),U=l(69984),z=l.n(U);const O=(0,q.Z)(S,[["render",h]]),I=O;z()(S,"components",{QToolbar:D.Z,QBtn:$.Z,QSelect:E.Z,QInput:W.Z})}}]);