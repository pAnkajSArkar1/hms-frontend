"use strict";(globalThis["webpackChunkdoctolib"]=globalThis["webpackChunkdoctolib"]||[]).push([[516],{50516:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var s={};a.r(s),a.d(s,{showCreateNurses:()=>m,showEditNurses:()=>p});var r={};a.r(r),a.d(r,{createItem:()=>f,deleteItem:()=>C,editItem:()=>b,getItems:()=>w});var l=a(59835),n=a(86970);const o={class:"q-pa-md"};function i(e,t,a,s,r,i){const d=(0,l.up)("QDataTable"),u=(0,l.up)("create-nurses"),c=(0,l.up)("q-card"),m=(0,l.up)("q-dialog"),p=(0,l.up)("edit-nurses"),h=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(h,null,{default:(0,l.w5)((()=>[(0,l._)("div",o,[(0,l.Wm)(d,{useStore:s.useStore,title:"All Nurses"},null,8,["useStore"]),(0,l.Wm)(m,{modelValue:s.showCreateNurses,"onUpdate:modelValue":t[0]||(t[0]=e=>s.showCreateNurses=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"card-width"},{default:(0,l.w5)((()=>[(0,l._)("div",{class:(0,n.C_)((e.$q.platform.is.desktop,""))},[(0,l.Wm)(u,{useStore:s.useStore,modal:!0},null,8,["useStore"])],2)])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(m,{modelValue:s.showEditNurses,"onUpdate:modelValue":t[1]||(t[1]=e=>s.showEditNurses=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"card-width"},{default:(0,l.w5)((()=>[(0,l._)("div",{class:(0,n.C_)((e.$q.platform.is.desktop,""))},[(0,l.Wm)(p,{useStore:s.useStore,modal:!0},null,8,["useStore"])],2)])),_:1})])),_:1},8,["modelValue"])])])),_:1})}var d=a(3746),u=a(60499);a(4026);function c(){return{columns:[{name:"name",align:"left",label:"Name",field:"name",sortable:!0},{name:"duty",align:"left",label:"Duty",field:"duty",sortable:!0},{name:"type",align:"left",label:"Type",field:"type",sortable:!0},{name:"experience",align:"left",label:"Experience",field:"experience",sortable:!0},{name:"actions",align:"right",label:"Actions"}],filter:{search:""},items:(0,u.qj)([]),item:(0,u.qj)({}),newData:(0,u.qj)({name:"",duty:"",address:"",email:"",mobile_no:null,blood:"",type:"",gender:"",age:null,experience:"",salary:null}),formData:(0,u.qj)({name:"",duty:"",address:"",email:"",mobile_no:null,blood:"",type:"",gender:"",age:"",experience:"",salary:null}),created_at:"",dialogs:(0,u.qj)({createItem:!1,editItem:!1}),lastUpdated:""}}function m(e){return e.dialogs.createItem}function p(e){return e.dialogs.editItem}var h=a(91569);const g="nurse";function w(e){if(console.log("getItems",!0),1==e.pagination.descending)var t="DESC";else t="ASC";var a={sort:e.pagination.sortBy,direction:t,page:e.pagination.page,rowsPerPage:e.pagination.rowsPerPage,search:e.search?e.search:this.filter.search};return new Promise(((e,t)=>{h.axios.get(g,{params:a}).then((t=>{e(t)})).catch((e=>{t(e)}))}))}function f(){return new Promise(((e,t)=>{h.axios.post(g,this.newData).then((t=>{this.lastUpdated=new Date,this.dialogs.createItem=!1,e(t)})).catch((e=>{t(e)}))}))}function b(){return new Promise(((e,t)=>{h.axios.put(g+"/"+this.formData.id,this.formData).then((t=>{this.lastUpdated=new Date,this.dialogs.editItem=!1,e(t)})).catch((e=>{t(e)}))}))}function C(e){return new Promise(((t,a)=>{h.axios["delete"](g+"/"+e.id).then((e=>{this.lastUpdated=new Date,t(e)})).catch((e=>{a(e)}))}))}const N=(0,d.Q_)("nurse",{state:c,getters:{...s},actions:{...r}}),_=(0,l.RC)((()=>Promise.all([a.e(3064),a.e(2458)]).then(a.bind(a,22458)))),y=(0,l.RC)((()=>Promise.all([a.e(3064),a.e(7717)]).then(a.bind(a,47717)))),D={name:"ManageDoctor",components:{CreateNurses:_,EditNurses:y},setup(){const e=N(),t=(0,l.Fl)((()=>e.showCreateNurses)),a=(0,l.Fl)((()=>e.showEditNurses));return{useStore:e,showCreateNurses:t,showEditNurses:a}}};var S=a(11639),q=a(69885),v=a(32074),I=a(44458),P=a(69984),x=a.n(P);const E=(0,S.Z)(D,[["render",i]]),W=E;x()(D,"components",{QPage:q.Z,QDialog:v.Z,QCard:I.Z})}}]);