"use strict";(globalThis["webpackChunkdoctolib"]=globalThis["webpackChunkdoctolib"]||[]).push([[5183],{95183:(e,l,a)=>{a.r(l),a.d(l,{default:()=>A});var t=a(59835);const s={class:"template"},o={class:"row q-col-gutter-md"},r={class:"col-12 col-md-6 col-lg-6"},n={class:"col-12 col-md-6 col-lg-6"},i={class:"col-12 col-md-6"},d={class:"q-pb-md"},u={key:0},p={class:"row q-col-gutter-md"},c={class:"row"},m=(0,t.Uk)("Add Row"),w=(0,t.Uk)("Remove Row"),b={class:"Description q-pt-md"};function g(e,l,a,g,v,_){const h=(0,t.up)("q-input"),V=(0,t.up)("q-select"),y=(0,t.up)("QSearch"),D=(0,t.up)("q-btn"),S=(0,t.up)("q-card-actions"),k=(0,t.up)("QCreateForm");return(0,t.wg)(),(0,t.j4)(k,{useStore:a.useStore,title:"Add Template"},{default:(0,t.w5)((()=>[(0,t._)("div",s,[(0,t._)("div",o,[(0,t._)("div",r,[(0,t.Wm)(h,{label:"Template title",dense:"",outlined:"",modelValue:g.newData.title,"onUpdate:modelValue":l[0]||(l[0]=e=>g.newData.title=e),"lazy-rules":"",rules:[e=>e&&e.length||"Please enter Template Title"],"error-message":e.$getValidationErrors("title"),error:e.$hasValidationErrors("title")},null,8,["modelValue","rules","error-message","error"])]),(0,t._)("div",n,[(0,t.Wm)(V,{options:g.typeOptions,"map-options":"","emit-value":"","option-label":"label","option-value":"value",type:"type",outlined:"",modelValue:g.newData.type,"onUpdate:modelValue":l[1]||(l[1]=e=>g.newData.type=e),dense:"",label:"Select Type",rules:[e=>e&&e.length||"Please select type"],"error-message":e.$getValidationErrors("type"),error:e.$hasValidationErrors("type")},null,8,["options","modelValue","rules","error-message","error"])])]),(0,t._)("div",i,[(0,t._)("div",d,[(0,t.Wm)(y,{label:"Department Name",modelValue:g.newData.branch_id,"onUpdate:modelValue":[l[2]||(l[2]=e=>g.newData.branch_id=e),g.fetchAssestsLists],optionValue:"id",optionLabel:"name",useStore:g.branchStore},null,8,["modelValue","useStore","onUpdate:modelValue"])]),null!=g.newData.branch_id?((0,t.wg)(),(0,t.iD)("span",u,[(0,t._)("div",p,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(g.newData.assets,((l,a)=>((0,t.wg)(),(0,t.iD)("div",{class:"col-12",key:a},[(0,t.Wm)(V,{dense:"",label:"Select Asset",outlined:"",options:g.assetsOptions,modelValue:l["asset_id"],"onUpdate:modelValue":e=>l["asset_id"]=e,"option-value":"id","option-label":"name","emit-value":"","map-options":"","lazy-rules":"",rules:[e=>e&&e.length||"Please select asset"],"error-message":e.$getValidationErrors("asset_id"),error:e.$hasValidationErrors("asset_id")},null,8,["options","modelValue","onUpdate:modelValue","rules","error-message","error"])])))),128)),(0,t._)("div",c,[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(D,{class:"addrow",color:"primary",onClick:g.add},{default:(0,t.w5)((()=>[m])),_:1},8,["onClick"])])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(D,{class:"deleterow",color:"primary",onClick:g.remove},{default:(0,t.w5)((()=>[w])),_:1},8,["onClick"])])),_:1})])])])):(0,t.kq)("",!0)]),(0,t._)("div",b,[(0,t.Wm)(h,{outlined:"",label:"Description",modelValue:g.newData.description,"onUpdate:modelValue":l[3]||(l[3]=e=>g.newData.description=e),"lazy-rules":"",type:"textarea"},null,8,["modelValue"])])])])),_:1},8,["useStore"])}a(69665);var v=a(60499),_=a(3746),h=a(65390),V=a(98951),y=a(58641);const D={name:"CreateTemplate",props:{useStore:null},setup(e){const{useStore:l}=(0,v.qj)(e),{newData:a}=(0,_.Jk)(l),s=(0,h.d)(),o=(0,V.a)(),r=(0,y.S)(),n=(0,v.iH)([]);(0,t.YP)(a.branch_id,(async(e,l)=>{e!=l&&i(e)}));const i=e=>{o.getItems({all:!0,branch_id:e}).then((e=>{n.value=e.data}))},d=()=>{a.value.assets.push({asset_id:""})},u=()=>{a.value.assets.pop({asset_id:""})};return{newData:a,templateStore:s,assetStore:o,branchStore:r,fetchAssestsLists:i,assetsOptions:n,add:d,remove:u,typeOptions:[{label:"Daily CheckList",value:"decl"}],statusOptions:[{label:"Ongoing",value:"ongoing"},{label:"Done",value:"done"}]}}};var S=a(11639),k=a(66611),q=a(32259),C=a(11821),f=a(68879),U=a(69984),W=a.n(U);const T=(0,S.Z)(D,[["render",g]]),A=T;W()(D,"components",{QInput:k.Z,QSelect:q.Z,QCardActions:C.Z,QBtn:f.Z})}}]);