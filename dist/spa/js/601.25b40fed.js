"use strict";(globalThis["webpackChunkdoctolib"]=globalThis["webpackChunkdoctolib"]||[]).push([[601],{601:(e,a,l)=>{l.r(a),l.d(a,{default:()=>z});var o=l(59835),t=l(86970),c=l(61957);const n={class:"q-pb-md"},s={class:"q-ma-none text-center text-weight-bold"},d={class:""},m=(0,o._)("h6",{class:"q-mt-none q-mb-sm"},"Company Details",-1),r={class:"row q-col-gutter-md"},u={class:"col-12 col-md-3 col-lg-3"},i={class:"col-12 col-md-3 col-lg-3"},p={class:"col-12 col-md-3 col-lg-3"},y={class:"col-12 col-md-3 col-lg-3"},_={class:"row q-col-gutter-md q-pt-md"},g={class:"col-12 col-md-3 col-lg-3"},v={class:"col-12 col-md-3 col-lg-3"},U={class:"col-12 col-md-3 col-lg-3"},V={class:"col-12 col-md-3 col-lg-3"},b={class:"row q-col-gutter-md q-pt-md"},h={class:"col-12 col-md-6 col-lg-6"},f={class:"col-12 col-md-6 col-lg-6"},D={class:"flex justify-end q-pt-md"},w=(0,o.Uk)("Update");function q(e,a,l,q,C,W){const S=(0,o.up)("q-card-section"),F=(0,o.up)("q-card"),Z=(0,o.up)("q-input"),Q=(0,o.up)("UploaderFile"),x=(0,o.up)("q-field"),P=(0,o.up)("q-btn"),k=(0,o.up)("q-form"),N=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(N,{class:"q-pa-md"},{default:(0,o.w5)((()=>[(0,o._)("div",n,[(0,o.Wm)(F,{class:"full-width"},{default:(0,o.w5)((()=>[(0,o.Wm)(S,null,{default:(0,o.w5)((()=>[(0,o._)("h2",s,(0,t.zw)(q.authUserStore?.authUser?.active_company?q.authUserStore.authUser.active_company.name:"SAFE T TRANS"),1)])),_:1})])),_:1})]),(0,o._)("div",d,[(0,o.Wm)(F,{class:"full-width"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{ref:"createForm",onSubmit:(0,c.iM)(q.submitForm,["prevent"])},{default:(0,o.w5)((()=>[(0,o.Wm)(S,null,{default:(0,o.w5)((()=>[m,(0,o._)("div",r,[(0,o._)("div",u,[(0,o.Wm)(Z,{dense:"",outlined:"",label:"Company Name",modelValue:q.companyDetails.name,"onUpdate:modelValue":a[0]||(a[0]=e=>q.companyDetails.name=e)},null,8,["modelValue"])]),(0,o._)("div",i,[(0,o.Wm)(Z,{dense:"",outlined:"",label:"Company Email",modelValue:q.companyDetails.company_email,"onUpdate:modelValue":a[1]||(a[1]=e=>q.companyDetails.company_email=e)},null,8,["modelValue"])]),(0,o._)("div",p,[(0,o.Wm)(Z,{dense:"",outlined:"",label:"Primary Contact Number",modelValue:q.companyDetails.primary_contact,"onUpdate:modelValue":a[2]||(a[2]=e=>q.companyDetails.primary_contact=e)},null,8,["modelValue"])]),(0,o._)("div",y,[(0,o.Wm)(Z,{dense:"",outlined:"",label:"Secondary Contact Number",modelValue:q.companyDetails.secondary_contact,"onUpdate:modelValue":a[3]||(a[3]=e=>q.companyDetails.secondary_contact=e)},null,8,["modelValue"])])]),(0,o._)("div",_,[(0,o._)("div",g,[(0,o.Wm)(Z,{dense:"",outlined:"",label:"Country",modelValue:q.companyDetails.country,"onUpdate:modelValue":a[4]||(a[4]=e=>q.companyDetails.country=e)},null,8,["modelValue"])]),(0,o._)("div",v,[(0,o.Wm)(Z,{dense:"",outlined:"",label:"City",modelValue:q.companyDetails.city,"onUpdate:modelValue":a[5]||(a[5]=e=>q.companyDetails.city=e)},null,8,["modelValue"])]),(0,o._)("div",U,[(0,o.Wm)(Z,{dense:"",outlined:"",label:"Post Code",modelValue:q.companyDetails.postcode,"onUpdate:modelValue":a[6]||(a[6]=e=>q.companyDetails.postcode=e)},null,8,["modelValue"])]),(0,o._)("div",V,[(0,o.Wm)(Z,{dense:"",outlined:"",label:"Street",modelValue:q.companyDetails.street,"onUpdate:modelValue":a[7]||(a[7]=e=>q.companyDetails.street=e)},null,8,["modelValue"])])]),(0,o._)("div",b,[(0,o._)("div",h,[(0,o.Wm)(Z,{dense:"",outlined:"",type:"textarea",label:"Address",modelValue:q.companyDetails.address,"onUpdate:modelValue":a[8]||(a[8]=e=>q.companyDetails.address=e)},null,8,["modelValue"])]),(0,o._)("div",f,[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Q,{modelValue:q.companyDetails.logo,"onUpdate:modelValue":a[9]||(a[9]=e=>q.companyDetails.logo=e),label:"Upload Company Logo",acceptFileType:".jpg, image/*"},null,8,["modelValue"])])),_:1})])]),(0,o._)("div",D,[(0,o.Wm)(P,{loading:q.updateloader,type:"submit",color:"primary"},{default:(0,o.w5)((()=>[w])),_:1},8,["loading"])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])])),_:1})}var C=l(19082),W=l(61276),S=l(94432),F=l(60499),Z=l(3746);const Q={setup(e){const a=(0,o.FN)(),l=a.appContext.config.globalProperties.$Qnotify,t=a.appContext.config.globalProperties.$setValidationErrors,c=a.appContext.config.globalProperties.$clearValidationErrors,n=(0,C.t)(),s=(0,W.J)(),{updateCompanyDetails:d}=s,m=(0,F.iH)(!1),r=(0,F.qj)({name:"",country:"",company_email:"",primary_contact:null,secondary_contact:null,city:"",postcode:null,street:"",address:"",com_logo:null,logo:null});(0,o.wF)((()=>{r.id=n.authUser.active_company.id,r.name=n.authUser.active_company.name,r.country=n.authUser.active_company.country,r.company_email=n.authUser.active_company.company_email,r.primary_contact=n.authUser.active_company.primary_contact,r.secondary_contact=n.authUser.active_company.secondary_contact,r.city=n.authUser.active_company.city,r.postcode=n.authUser.active_company.postcode,r.street=n.authUser.active_company.street,r.address=n.authUser.active_company.address,r.logo=n.authUser.active_company.logo})),(0,o.bv)((()=>{c()}));const{useStore:u}=(0,F.qj)(e),{formData:i}=(0,Z.Jk)(u),p=(0,S.Z)(),{uploadItem:y}=p,{setNewItemLogo:_}=s,g=e=>{let a=new FormData;return a.append("attachment_type","image"),a.append("file",e[0]),new Promise((e=>{y(a).then((a=>{r.logo=a.data.media_id,e({url:null})})).finally((()=>{}))}))},v=()=>{m.value=!0,d(r).then((e=>{m.value=!1,c(),l({message:e.data.message,type:"positive"})})).catch((e=>{m.value=!1;let a="";a=e.response.data.message?e.response.data.message:e.response.data.error;let o={};e.response.data.errors&&(o=e.response.data.errors),t(o),l({message:a,type:"negative"})}))};return{formData:i,companyStore:s,authUserStore:n,factoryLogoUploader:g,companyDetails:r,updateloader:m,submitForm:v}}};var x=l(11639),P=l(69885),k=l(44458),N=l(63190),j=l(8326),T=l(66611),E=l(18149),A=l(97534),I=l(68879),L=l(69984),$=l.n(L);const J=(0,x.Z)(Q,[["render",q]]),z=J;$()(Q,"components",{QPage:P.Z,QCard:k.Z,QCardSection:N.Z,QForm:j.Z,QInput:T.Z,QField:E.Z,QUploader:A.Z,QBtn:I.Z})}}]);