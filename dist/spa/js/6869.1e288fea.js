"use strict";(globalThis["webpackChunkdoctolib"]=globalThis["webpackChunkdoctolib"]||[]).push([[6869],{56869:(e,l,t)=>{t.r(l),t.d(l,{default:()=>L});var a=t(59835),o=t(86970);const s={class:"row q-col-gutter-md q-pb-md"},r={class:"col-12"},d={class:"col-12"},n={class:"row q-col-gutter-md q-pt-md q-pb-md"},i=(0,a._)("div",{class:"text-h6"},"Assets",-1),c={class:"row"},u={class:"col-12"},m={class:"text-title1 text-bold"},p={class:"row q-col-gutter-md q-pt-md"},_={class:"col-12 col-md-6 col-lg-6"},V={class:"col-12 col-md-6 col-lg-6"},g={class:"col-12 col-lg-6 col-md-6 col-sm-6"},v={class:"col-12 col-lg-6 col-md-6 col-sm-6"},w={class:"row q-col-gutter-md q-pt-md q-pt-md"},h={class:"col-12 col-md-6 col-lg-6"},b={class:"row items-center justify-end"},D={class:"col-12 col-md-6 col-lg-6"},f={class:"row q-col-gutter-md"},q={class:"col-12"},S={class:"col-12"};function y(e,l,t,y,U,W){const k=(0,a.up)("QSearch"),C=(0,a.up)("q-input"),E=(0,a.up)("q-separator"),$=(0,a.up)("q-select"),P=(0,a.up)("UploaderFile"),Q=(0,a.up)("q-btn"),T=(0,a.up)("q-date"),Z=(0,a.up)("q-popup-proxy"),x=(0,a.up)("q-icon"),A=(0,a.up)("QCreateForm"),I=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(A,{useStore:y.useStore,title:"New Checklist"},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a._)("div",s,[(0,a._)("div",r,[(0,a.Wm)(k,{label:"Template Name",modelValue:y.newData.asset_inspection_template_id,"onUpdate:modelValue":[l[0]||(l[0]=e=>y.newData.asset_inspection_template_id=e),y.onTemplateSelect],useStore:y.templateStore,optionValue:"id",optionLabel:"title",rules:[e=>e||"Please choose a template"],"error-message":e.$getValidationErrors("asset_inspection_template_id"),error:e.$hasValidationErrors("asset_inspection_template_id")},null,8,["modelValue","useStore","onUpdate:modelValue","rules","error-message","error"])]),(0,a._)("div",d,[(0,a.Wm)(C,{dense:"",outlined:"",label:"Checklist title",modelValue:y.newData.title,"onUpdate:modelValue":l[1]||(l[1]=e=>y.newData.title=e),rules:[e=>e&&e.length||"Please enter Checklist Title"],"error-message":e.$getValidationErrors("title"),error:e.$hasValidationErrors("title")},null,8,["modelValue","rules","error-message","error"])])]),(0,a._)("div",n,[i,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.newData.assets,(l=>((0,a.wg)(),(0,a.iD)("div",{class:"col-12 col-sm-12 col-md-12 col-lg-12",key:l.id},[(0,a._)("div",c,[(0,a._)("div",u,[(0,a._)("div",m,(0,o.zw)(l.name),1)])]),(0,a.Wm)(E),(0,a._)("div",p,[(0,a._)("div",_,[(0,a.Wm)($,{modelValue:l.status,"onUpdate:modelValue":e=>l.status=e,options:y.statuslist,"map-options":"","emit-value":"","option-label":"label","option-value":"value",type:"Status",outlined:"",dense:"",label:"Asset Status",rules:[e=>e&&e.length||"Please select Status"],"error-message":e.$getValidationErrors("Status"),error:e.$hasValidationErrors("Status")},null,8,["modelValue","onUpdate:modelValue","options","rules","error-message","error"])]),(0,a._)("div",V,[(0,a.Wm)($,{modelValue:l.report_defect,"onUpdate:modelValue":e=>l.report_defect=e,options:y.defectslist,"map-options":"","emit-value":"","option-label":"label","option-value":"value",type:"defects",outlined:"",dense:"",label:"Select Defects",rules:[e=>e&&e.length||"Please select defects"],"error-message":e.$getValidationErrors("report_defect"),error:e.$hasValidationErrors("report_defect")},null,8,["modelValue","onUpdate:modelValue","options","rules","error-message","error"])]),(0,a._)("div",g,[(0,a.Wm)(P,{modelValue:l.image_ids,"onUpdate:modelValue":e=>l.image_ids=e,label:"Upload Image",multiple:!0,acceptFileType:"image/*"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a._)("div",v,[(0,a.Wm)(P,{modelValue:l.document_ids,"onUpdate:modelValue":e=>l.document_ids=e,label:"Upload Document",multiple:!0,acceptFileType:".pdf,.txt,.doc,.docx",attachmentType:"document"},null,8,["modelValue","onUpdate:modelValue"])])])])))),128))]),(0,a.Wm)(E),(0,a._)("div",w,[(0,a._)("div",h,[(0,a.Wm)(C,{dense:"",outlined:"",modelValue:y.newData.action_date,"onUpdate:modelValue":l[3]||(l[3]=e=>y.newData.action_date=e),label:"Action Date",rules:[e=>e&&e.length||"Please choose the action date"],"error-message":e.$getValidationErrors("action_date"),error:e.$hasValidationErrors("action_date")},{prepend:(0,a.w5)((()=>[(0,a.Wm)(x,{name:"event",class:"cursor-pointer"},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{modelValue:y.newData.action_date,"onUpdate:modelValue":l[2]||(l[2]=e=>y.newData.action_date=e)},{default:(0,a.w5)((()=>[(0,a._)("div",b,[(0,a.wy)((0,a.Wm)(Q,{label:"Close",color:"primary",flat:""},null,512),[[I]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules","error-message","error"])]),(0,a._)("div",D,[(0,a.Wm)(C,{dense:"",outlined:"",label:"Actioned by",modelValue:y.newData.actioned_by,"onUpdate:modelValue":l[4]||(l[4]=e=>y.newData.actioned_by=e),rules:[e=>e&&e.length||"Please enter Actioned by"],"error-message":e.$getValidationErrors("actioned_by"),error:e.$hasValidationErrors("actioned_by")},null,8,["modelValue","rules","error-message","error"])])]),(0,a._)("div",f,[(0,a._)("div",q,[(0,a.Wm)(C,{modelValue:y.newData.description,"onUpdate:modelValue":l[5]||(l[5]=e=>y.newData.description=e),outlined:"",label:"Recommendations",type:"textarea"},null,8,["modelValue"])]),(0,a._)("div",S,[(0,a.Wm)(C,{modelValue:y.newData.remarks,"onUpdate:modelValue":l[6]||(l[6]=e=>y.newData.remarks=e),outlined:"",label:"Comments",type:"textarea"},null,8,["modelValue"])])])])])),_:1},8,["useStore"])}t(69665);var U=t(3746),W=t(40038),k=t(65390),C=t(94432);const E={name:"CreateDashboard",components:{},setup(){const e=(0,W.L)(),l=(0,k.d)(),{newData:t}=(0,U.Jk)(e),o=(0,C.Z)(),{uploadItem:s}=o,r=()=>{console.log("onTemplateSelect",t.value.asset_inspection_template_id),l.getItem({id:t.value.asset_inspection_template_id}).then((e=>{t.value.assets=[],e.data.assets.forEach((e=>{t.value.assets.push({id:e.asset.id,name:e.asset.name,status:"",defects:"",image_ids:[],document_ids:[]})}))}))};return(0,a.bv)((()=>{console.log("newData ::: ",t.value)})),{useStore:e,newData:t,templateStore:l,onTemplateSelect:r,defectslist:["Yes – Requires Maintenance","No","Not Required"],statuslist:["Checked – Working","Checked – Not Working","Checked – Good","Checked – Poor"]}}};var $=t(11639),P=t(66611),Q=t(50926),T=t(32259),Z=t(22857),x=t(52765),A=t(14351),I=t(68879),N=t(62146),F=t(69984),R=t.n(F);const j=(0,$.Z)(E,[["render",y]]),L=j;R()(E,"components",{QInput:P.Z,QSeparator:Q.Z,QSelect:T.Z,QIcon:Z.Z,QPopupProxy:x.Z,QDate:A.Z,QBtn:I.Z}),R()(E,"directives",{ClosePopup:N.Z})}}]);