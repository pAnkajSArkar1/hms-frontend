"use strict";(globalThis["webpackChunkdoctolib"]=globalThis["webpackChunkdoctolib"]||[]).push([[7118],{77118:(e,t,a)=>{a.r(t),a.d(t,{default:()=>U});var o={};a.r(o),a.d(o,{showCreatePatient:()=>c,showEditPatient:()=>g});var i={};a.r(i),a.d(i,{createItem:()=>w,deleteItem:()=>_,editItem:()=>b,getItems:()=>f});var s=a(59835),n=a(86970);const l={class:"q-pa-md"};function r(e,t,a,o,i,r){const d=(0,s.up)("QDataTable"),m=(0,s.up)("create-patient"),u=(0,s.up)("q-card"),c=(0,s.up)("q-dialog"),g=(0,s.up)("edit-patient"),h=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(h,null,{default:(0,s.w5)((()=>[(0,s._)("div",l,[(0,s.Wm)(d,{useStore:o.useStore,title:"All Patients"},null,8,["useStore"]),(0,s.Wm)(c,{modelValue:o.showCreatePatient,"onUpdate:modelValue":t[0]||(t[0]=e=>o.showCreatePatient=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"card-width"},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,n.C_)((e.$q.platform.is.desktop,""))},[(0,s.Wm)(m,{useStore:o.useStore,modal:!0},null,8,["useStore"])],2)])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(c,{modelValue:o.showEditPatient,"onUpdate:modelValue":t[1]||(t[1]=e=>o.showEditPatient=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"card-width"},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,n.C_)((e.$q.platform.is.desktop,""))},[(0,s.Wm)(g,{useStore:o.useStore,modal:!0},null,8,["useStore"])],2)])),_:1})])),_:1},8,["modelValue"])])])),_:1})}var d=a(3746),m=a(60499);a(4026);function u(){return{columns:[{name:"name",align:"left",label:"Name",field:"name",sortable:!0},{name:"problem",align:"left",label:"Problem",field:"problem",sortable:!0},{name:"assigned to room",align:"left",label:"Assigned to Room",field:"assigned_to_room",sortable:!0},{name:"date of addmission",align:"left",label:"Date of Addmission",field:"date_of_addmission",sortable:!0},{name:"actions",align:"right",label:"Actions"}],filter:{search:""},items:(0,m.qj)([]),item:(0,m.qj)({}),newData:(0,m.qj)({name:"",mobile:null,address:"",gender:"",problem:"",assigned_to_room:"",blood_group:"",date_of_addmission:"",age:""}),formData:(0,m.qj)({name:"",mobile:null,address:"",gender:"",problem:"",assigned_to_room:"",blood_group:"",date_of_addmission:"",age:""}),created_at:"",dialogs:(0,m.qj)({createItem:!1,editItem:!1}),lastUpdated:""}}function c(e){return e.dialogs.createItem}function g(e){return e.dialogs.editItem}var h=a(91569);const p="medicine";function f(e){if(console.log("getItems",!0),1==e.pagination.descending)var t="DESC";else t="ASC";var a={sort:e.pagination.sortBy,direction:t,page:e.pagination.page,rowsPerPage:e.pagination.rowsPerPage,search:e.search?e.search:this.filter.search};return new Promise(((e,t)=>{h.axios.get(p,{params:a}).then((t=>{e(t)})).catch((e=>{t(e)}))}))}function w(){return new Promise(((e,t)=>{h.axios.post(p,this.newData).then((t=>{this.lastUpdated=new Date,this.dialogs.createItem=!1,e(t)})).catch((e=>{t(e)}))}))}function b(){return new Promise(((e,t)=>{h.axios.put(p+"/"+this.formData.id,this.formData).then((t=>{this.lastUpdated=new Date,this.dialogs.editItem=!1,e(t)})).catch((e=>{t(e)}))}))}function _(e){return new Promise(((t,a)=>{h.axios["delete"](p+"/"+e.id).then((e=>{this.lastUpdated=new Date,t(e)})).catch((e=>{a(e)}))}))}const P=(0,d.Q_)("patient",{state:u,getters:{...o},actions:{...i}}),C=(0,s.RC)((()=>Promise.all([a.e(4736),a.e(3064),a.e(2856)]).then(a.bind(a,62856)))),D=(0,s.RC)((()=>Promise.all([a.e(4736),a.e(3064),a.e(2129)]).then(a.bind(a,22129)))),S={name:"ManageMedicine",components:{CreatePatient:C,EditPatient:D},setup(){const e=P(),t=(0,s.Fl)((()=>e.showCreatePatient)),a=(0,s.Fl)((()=>e.showEditPatient));return{useStore:e,showCreatePatient:t,showEditPatient:a}}};var q=a(11639),v=a(69885),I=a(32074),E=a(44458),W=a(69984),j=a.n(W);const k=(0,q.Z)(S,[["render",r]]),U=k;j()(S,"components",{QPage:v.Z,QDialog:I.Z,QCard:E.Z})}}]);