"use strict";(globalThis["webpackChunkdoctolib"]=globalThis["webpackChunkdoctolib"]||[]).push([[718],{90718:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Z});var s={};a.r(s),a.d(s,{showCreateAudit:()=>h,showEditAudit:()=>p});var n={};a.r(n),a.d(n,{createItem:()=>g,deleteItem:()=>A,editItem:()=>b,getItems:()=>w});var i=a(59835);const o={class:"q-pa-md"};function d(e,t,a,s,n,d){const r=(0,i.up)("WAMenu"),l=(0,i.up)("WAReport"),u=(0,i.up)("q-card"),c=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r),(0,i._)("div",o,[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(l)])),_:1})])])),_:1})}var r=a(86970);function l(e,t,a,s,n,o){const d=(0,i.up)("QDataTable"),l=(0,i.up)("create-audit"),u=(0,i.up)("q-card"),c=(0,i.up)("q-dialog"),m=(0,i.up)("edit-audit");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(d,{aditionalActions:!0,canEdit:!1,useStore:s.useStore,title:"Audit Manager"},null,8,["useStore"]),(0,i.Wm)(c,{modelValue:s.showCreateAudit,"onUpdate:modelValue":t[0]||(t[0]=e=>s.showCreateAudit=e)},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{class:"",style:{"max-width":"700px"}},{default:(0,i.w5)((()=>[(0,i._)("div",{class:(0,r.C_)((e.$q.platform.is.desktop,""))},[(0,i.Wm)(l,{useStore:s.useStore,modal:!0},null,8,["useStore"])],2)])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(c,{modelValue:s.showEditAudit,"onUpdate:modelValue":t[1]||(t[1]=e=>s.showEditAudit=e)},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{class:"",style:{width:"600px"}},{default:(0,i.w5)((()=>[(0,i._)("div",{class:(0,r.C_)((e.$q.platform.is.desktop,""))},[(0,i.Wm)(m,{useStore:s.useStore,modal:!0},null,8,["useStore"])],2)])),_:1})])),_:1},8,["modelValue"])],64)}var u=a(3746),c=a(60499);function m(){return{columns:[{name:"branch_id",align:"left",label:"Branch",field:"branch_id",sortable:!0},{name:"business_name",align:"left",label:"Business Name",field:"business_name",sortable:!0},{name:"address",align:"left",label:"Address",field:"address",sortable:!0},{name:"contact_number",align:"left",label:"Contact Number",field:"contact_number",sortable:!0}],filter:{search:""},items:(0,c.qj)([]),item:(0,c.qj)({}),newData:(0,c.qj)({branch_id:null,business_name:"",address:"",contact_number:null,question_id:null,Audit_question_details:"",date_of_review:"",document_ids:[],comments:""}),formData:(0,c.qj)({branch_id:null,business_name:"",address:"",contact_number:null,question_id:null,Audit_question_details:"",date_of_review:"",document_ids:[],comments:""}),dialogs:(0,c.qj)({createItem:!1,editItem:!1}),lastUpdated:""}}function h(e){return e.dialogs.createItem}function p(e){return e.dialogs.editItem}var _=a(91569);const f="activity";function w(e){if(console.log("getItems",!0),1==e.pagination.descending)var t="DESC";else t="ASC";var a={sort:e.pagination.sortBy,direction:t,page:e.pagination.page,rowsPerPage:e.pagination.rowsPerPage,search:e.search?e.search:this.filter.search};return new Promise(((e,t)=>{_.axios.get(f,{params:a}).then((t=>{e(t)})).catch((e=>{t(e)}))}))}function g(){return new Promise(((e,t)=>{_.axios.post(f,this.formData).then((t=>{this.lastUpdated=new Date,this.dialogs.createItem=!1,e(t)})).catch((e=>{t(e)}))}))}function b(){return new Promise(((e,t)=>{_.axios.put(f+"/"+this.formData.id,this.formData).then((t=>{this.lastUpdated=new Date,this.dialogs.editItem=!1,e(t)})).catch((e=>{t(e)}))}))}function A(e){return new Promise(((t,a)=>{_.axios["delete"](f+"/"+e.id).then((e=>{this.lastUpdated=new Date,t(e)})).catch((e=>{a(e)}))}))}const C=(0,u.Q_)("audit",{state:m,getters:{...s},actions:{...n}}),q=(0,i.RC)((()=>Promise.all([a.e(4736),a.e(3064),a.e(9684)]).then(a.bind(a,89684)))),v=(0,i.RC)((()=>Promise.all([a.e(4736),a.e(3064),a.e(5889)]).then(a.bind(a,35889)))),W={name:"WorkplaceAudit",components:{CreateAudit:q,EditAudit:v},setup(){const e=C(),t=(0,i.Fl)((()=>e.showCreateAudit)),a=(0,i.Fl)((()=>e.showEditAudit));return{useStore:e,showCreateAudit:t,showEditAudit:a}}};var D=a(11639),S=a(32074),I=a(44458),P=a(69984),E=a.n(P);const k=(0,D.Z)(W,[["render",l]]),x=k;E()(W,"components",{QDialog:S.Z,QCard:I.Z});const j=(0,i.RC)((()=>a.e(5794).then(a.bind(a,25794)))),Q={components:{WAReport:x,WAMenu:j},setup(){return{WAMenu:j}}};var U=a(69885);const V=(0,D.Z)(Q,[["render",d]]),Z=V;E()(Q,"components",{QPage:U.Z,QCard:I.Z})}}]);